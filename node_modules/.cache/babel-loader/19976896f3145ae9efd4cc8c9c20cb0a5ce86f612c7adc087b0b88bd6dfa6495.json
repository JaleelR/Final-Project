{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\n\n/** API Class.\n *\n * Static class tying together methods used to get/send to to the API.\n * There shouldn't be any frontend-specific stuff here, and there shouldn't\n * be any API-aware stuff elsewhere in the frontend.\n *\n */\n\nexport class JoblyApi {\n  /* skeleton method for get calls  */\n  static async request(endpoint) {\n    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"get\";\n    console.debug(\"API Call:\", endpoint, data, method);\n\n    //there are multiple ways to pass an authorization token, this is how you pass it in the header.\n    //this has been provided to show you another way to pass the token. you are only expected to read this code for this project.\n    const url = \"\".concat(BASE_URL, \"/\").concat(endpoint);\n    const headers = {\n      Authorization: \"Bearer \".concat(JoblyApi.token)\n    };\n    const params = method === \"get\" ? data : {};\n    try {\n      return (await axios({\n        url,\n        method,\n        data,\n        params,\n        headers\n      })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  // Individual API routes\n\n  /* Get All companies */\n  static async getCompanies() {\n    let res = await this.request(\"companies\");\n    return res.companies;\n  }\n\n  /** Get details on a company by handle. */\n\n  static async getCompany(handle) {\n    let res = await this.request(\"companies/\".concat(handle));\n    return res.company;\n  }\n\n  /* Get All companies */\n  static async getJobs() {\n    let res = await this.request(\"jobs\");\n    return res.companies;\n  }\n\n  /** Get details on a company by handle. */\n\n  static async getJob(id) {\n    let res = await this.request(\"jobs/\".concat(id));\n    return res.company;\n  }\n  static async login(username, password) {\n    let res = await this.request(\"token\", {\n      username,\n      password\n    }, \"post\");\n    return res;\n  }\n  static async signup(username, password, name, firstname, lastname, email) {\n    let res = await this.request(\"token\", {\n      username,\n      password,\n      name,\n      firstname,\n      lastname,\n      email\n    }, \"post\");\n    return res;\n  }\n  static async updateUser(username) {\n    let res = await this.request(\"users/\".concat(username));\n    return res;\n  }\n\n  // obviously, you'll add a lot here ...\n}\n\n// for now, put token (\"testuser\" / \"password\" on class)\n// the token for interactive with the API will be stored here.\nJoblyApi.userInfo = {\n  username: \"\",\n  password: \"\",\n  name: \"\",\n  firstname: \"\",\n  lastname: \"\",\n  email: \"\"\n};\nJoblyApi.token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZ\" + \"SI6InRlc3R1c2VyIiwiaXNBZG1pbiI6ZmFsc2UsImlhdCI6MTU5ODE1OTI1OX0.\" + \"FtrMwBQwe6Ue-glIFgz_Nf8XxRT2YecFCiSpYL0fCXc\";","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_BASE_URL","JoblyApi","request","endpoint","data","arguments","length","undefined","method","console","debug","url","concat","headers","Authorization","token","params","err","error","response","message","Array","isArray","getCompanies","res","companies","getCompany","handle","company","getJobs","getJob","id","login","username","password","signup","name","firstname","lastname","email","updateUser","userInfo"],"sources":["/Users/jaleelwhaley/Desktop/Final-Project/frontend/src/Api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\n\n/** API Class.\n *\n * Static class tying together methods used to get/send to to the API.\n * There shouldn't be any frontend-specific stuff here, and there shouldn't\n * be any API-aware stuff elsewhere in the frontend.\n *\n */\n\nexport class JoblyApi {\n  // the token for interactive with the API will be stored here.\n  static token;\n  static userInfo = { username: \"\", password:\"\", name:\"\", firstname:\"\", lastname:\"\", email:\"\" }\n\n  /* skeleton method for get calls  */\n  static async request(endpoint, data = {}, method = \"get\") {\n    console.debug(\"API Call:\", endpoint, data, method);\n\n    //there are multiple ways to pass an authorization token, this is how you pass it in the header.\n    //this has been provided to show you another way to pass the token. you are only expected to read this code for this project.\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = { Authorization: `Bearer ${JoblyApi.token}` };\n    const params = (method === \"get\")\n        ? data\n        : {};\n\n    try {\n      return (await axios({ url, method, data, params, headers })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n\n\n  // Individual API routes\n\n/* Get All companies */\n  static async getCompanies() {\n    let res = await this.request(`companies`);\n    return res.companies;\n  }\n\n  /** Get details on a company by handle. */\n\n  static async getCompany(handle) {\n    let res = await this.request(`companies/${handle}`);\n    return res.company;\n  }\n\n/* Get All companies */\n  static async getJobs() {\n    let res = await this.request(`jobs`);\n    return res.companies;\n  }\n\n  /** Get details on a company by handle. */\n\n  static async getJob(id) {\n    let res = await this.request(`jobs/${id}`);\n    return res.company;\n  }\n\n\n  static async login (username, password ) {\n    let res = await this.request(`token`, {username, password}, \"post\" );\n    return res;\n  }\n  static async signup (username, password, name, firstname, lastname, email) {\n    let res = await this.request(`token`, { username, password, name, firstname, lastname, email }, \"post\" );\n    return res;\n  }\n  \n  static async updateUser(username) {\n    let res = await this.request(`users/${username}`);\n    return res;\n  }\n\n\n\n\n\n\n\n  // obviously, you'll add a lot here ...\n}\n\n// for now, put token (\"testuser\" / \"password\" on class)\nJoblyApi.token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZ\" +\n    \"SI6InRlc3R1c2VyIiwiaXNBZG1pbiI6ZmFsc2UsImlhdCI6MTU5ODE1OTI1OX0.\" +\n    \"FtrMwBQwe6Ue-glIFgz_Nf8XxRT2YecFCiSpYL0fCXc\";\n\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}